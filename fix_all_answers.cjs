const fs = require('fs');

// Correct answers based on yellow highlighting in PDF (0-indexed)
// أ = 0, ب = 1, ج = 2, د = 3
const correctAnswers = {
  1: 1,   // ب فلج : أسنان
  2: 0,   // أ اقدام : احجام
  3: 0,   // أ ذوبان : حرارة
  4: 3,   // د صوت : مذياع
  5: 0,   // أ زجاج : طاولة
  6: 3,   // د دودة القز : الحرير
  7: 0,   // أ فيلم : مخرج
  8: 0,   // أ عش : عصفور
  9: 1,   // ب مطار : مسافر
  10: 1,  // ب نهر : مجرى
  11: 1,  // ب سيف : رمح
  12: 0,  // أ لؤم : شهامة
  13: 0,  // أ يقظة : رقاد
  14: 1,  // ب تسخين : غليان
  15: 0,  // أ صيدلية : أدوية
  16: 1,  // ب رتيب : ملل
  17: 1,  // ب مذاكرة : نجاح
  18: 1,  // ب محرّك : سيارة
  19: 1,  // ب محرك : سيارة
  20: 1,  // ب بيع : سماحة
  21: 3,  // د سحور : فجر
  22: 0,  // أ جناح : طير
  23: 0,  // أ مرض : حيوان
  24: 2,  // ج وردة : ذبول
  25: 0,  // أ تواضع : تكبر
  26: 2,  // ج عنب : شجر
  27: 0,  // أ مؤمن : فطن
  28: 1,  // ب مرارة : حنظل
  29: 1,  // ب شباب : شيخوخة
  30: 0,  // أ عقد : بيت
  31: 1,  // ب غنى : طغيان
  32: 1,  // ب سكن : كنس
  33: 1,  // ب مسح : حسم
  34: 2,  // ج يعتني : يهمل
  35: 2,  // ج تحفيز : موظفين
  36: 1,  // ب تحفيز : المعلمين
  37: 2,  // ج المقام : الحجر الأسود
  38: 1,  // ب البطن : الحزام
  39: 0,  // أ زهايمر : معلومات
  40: 1,  // ب سعال : إلتهاب
  41: 1,  // ب أكل : شبع
  42: 2,  // ج الزهرة : الأرض
  43: 0,  // أ دائرة : كرة
  44: 0,  // أ سيارة : مستطيل
  45: 0,  // أ دائرة : حلقة
  46: 2,  // ج جغرافيا : مناخ
  47: 0,  // أ عمل : نهار
  48: 3,  // د أسمنت : حديد
  49: 1,  // ب نادي : لاعب
  50: 3,  // د قسوة : لين
  51: 1,  // ب تسويف : تراكم
  52: 2,  // ج إهمال : اخفاق
  53: 1,  // ب قحط : استسقاء
  54: 1,  // ب الفردوس : الجنة
  55: 0,  // أ الجنة : الفردوس
  56: 1,  // ب الفردوس : الجنة
  57: 1,  // ب أواني قلادة
  58: 2,  // ج أستاذ : جامعة
  59: 0,  // أ صبور : حليم
  60: 1,  // ب قيادة : رخصة
  61: 1,  // ب ليل : نهار
  62: 1,  // ب نُهى : حمق
  63: 0,  // أ نبتة : شجرة (based on the note in PDF)
  64: 0,  // أ مونومرات : بوليمرات
  65: 1,  // ب جداول : أنهار
  66: 1,  // ب الشجرة : النخلة
  67: 1,  // ب ضب : صحراء
  68: 0,  // أ غابة : أشجار
  69: 1,  // ب أظهر : أخفى
  70: 0,  // أ عروق : دم
  71: 0,  // أ كعبة : حرم
  72: 0,  // أ مصنع : عمال
  73: 0,  // أ حرب : ضروس
  74: 0,  // أ جبل : شاهق
  75: 0,  // أ حرب : ضروس
  76: 2,  // ج لقاء : فراق
  77: 0,  // أ صحو : غائم
  78: 2,  // ج سراج النهار : الشمس المضيئة
  79: 0,  // أ ريش : طير
  80: 1,  // ب أنف : إنسان
  81: 1,  // ب رحمة : عفو
  82: 2,  // ج زهو : تواضع
  83: 0,  // أ سلام : حرب
  84: 1,  // ب إظهار : إخفاء
  85: 1,  // ب شجرة : ثمرة
  86: 2,  // ج لسان : ذوق
  87: 1,  // ب كتاب : صفحة
  88: 1,  // ب عقل : تكفير
  89: 2,  // ج استرجاع : تذكر
  90: 1,  // ب بحث : اكتشاف
  91: 1,  // ب نضج : خبرة
  92: 2,  // ج حفرة : سياج
  93: 1,  // ب باب : شباك
  94: 1,  // ب مصنع : تلوث
  95: 2,  // ج حكم : قاضي
  96: 3,  // د نهم : قنوع
  97: 1,  // ب الظهر : المغرب
  98: 1,  // ب خاتمة : قصة
  99: 1,  // ب طفولة : هرم
  100: 0, // أ صحفي : خبر
  101: 1, // ب قمح : غذاء
  102: 2, // ج شفة : لمياء
  103: 1, // ب واحة : نخلة
  104: 0, // أ نخلة : واحة
  105: 0, // أ شعبان : رمضان
  106: 1, // ب صورة : تلفاز
  107: 1, // ب شمس : شعاع
  108: 0, // أ صوم : رمضان
  109: 1, // ب نقيصة : فضيلة
  110: 1, // ب شوال : شعبان
  111: 1, // ب يحذر : ينتبه
  112: 0, // أ أرض : جبال
  113: 0, // أ كآبة : سرور
  114: 1, // ب جوع : شبع
  115: 1, // ب مسطرة : قلم
  116: 0, // أ اغواء : إرشاد
  117: 0, // أ ذئب : عواء
  118: 0, // أ نحلة : طنين
  119: 2, // ج أفعى : حفيف
  120: 0, // أ زراعة : حصاد
  121: 1, // ب تهور : سرعة
  122: 0, // أ تنظيم : انجاز
  123: 0, // أ سيارة : بنزين
  124: 1, // ب كذب : إفك
  125: 1, // ب دواء : صيدلية
  126: 1, // ب سلك : كهرباء
  127: 1, // ب سلك : كهرباء
  128: 0, // أ بحر : سمك
  129: 1, // ب مدير : موظفون
  130: 0, // أ شجرة : غابة
  131: 0, // أ كهرباء : سلك
  132: 0, // أ نشاط : خمول
  133: 1, // ب صائغ : ذهب
  134: 2, // ج آلة : إيقاع
  135: 1, // ب كهرباء : إضاءة
  136: 1, // ب كهرباء : إضاءة
  137: 0, // أ قلم : كتابة
  138: 1, // ب سوط : جلد
  139: 1, // ب نافذة : قمر
  140: 1, // ب إصلاح : إحسان
  141: 1, // ب القتال : المبارزة
  142: 0, // أ شعر : رأس
  143: 0, // أ حمار : بردعة
  144: 1, // ب المال : سرور
  145: 2, // ج عبادة : سعادة
  146: 0, // أ عبادة : جنة
  147: 1, // ب خبز : مخبز
  148: 0, // أ شبكة : صيد
  149: 1  // ب روح : تقوى
};

// Read the file
let content = fs.readFileSync('./src/contexts/ExercisesContext.tsx', 'utf8');

// For each question, find and fix the correctAnswer
let fixCount = 0;
for (let qNum = 1; qNum <= 149; qNum++) {
  const qId = `"q${qNum}"`;
  const correctAns = correctAnswers[qNum];

  // Find the question line
  const regex = new RegExp(`\\{ id: "q${qNum}", prompt: "[^"]+", audioPlaceholder: "[^"]+", options: \\[[^\\]]+\\], correctAnswer: (\\d+),`);
  const match = content.match(regex);

  if (match) {
    const currentAnswer = parseInt(match[1]);
    if (currentAnswer !== correctAns) {
      console.log(`Q${qNum}: Fixing ${currentAnswer} -> ${correctAns}`);
      content = content.replace(
        new RegExp(`(\\{ id: "q${qNum}", prompt: "[^"]+", audioPlaceholder: "[^"]+", options: \\[[^\\]]+\\], correctAnswer: )${currentAnswer}(,)`),
        `$1${correctAns}$2`
      );
      fixCount++;
    }
  } else {
    console.log(`Q${qNum}: NOT FOUND`);
  }
}

// Write the fixed content
fs.writeFileSync('./src/contexts/ExercisesContext.tsx', content, 'utf8');
console.log(`\nFixed ${fixCount} questions.`);
